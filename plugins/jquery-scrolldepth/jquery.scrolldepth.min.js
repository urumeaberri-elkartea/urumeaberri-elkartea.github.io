/*!
 * @preserve
 * jquery.scrolldepth.js | v1.0
 * Copyright (c) 2016 Rob Flaherty (@robflaherty)
 * Licensed under the MIT and GPL licenses.
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(d){"use strict";var l,a,c,p,h,e={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0,gaGlobal:!1,gtmOverride:!1,trackerName:!1,dataLayer:"dataLayer"},v=d(window),m=[],D=!1,s=0;return d.scrollDepth=function(u){var g=+new Date;function f(e,n,t,o){var r=u.trackerName?u.trackerName+".send":"send";h?(h({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:n,eventValue:1,eventNonInteraction:u.nonInteraction}),u.pixelDepth&&2<arguments.length&&s<t&&h({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:i(s=t),eventValue:1,eventNonInteraction:u.nonInteraction}),u.userTiming&&3<arguments.length&&h({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:e,eventLabel:n,eventTiming:o}),p&&gtag("event","scroll_depth",{category:"Scroll Depth",scroll_distance:n,px_distance:t})):(l&&(window[c](r,"event","Scroll Depth",e,n,1,{nonInteraction:u.nonInteraction}),u.pixelDepth&&2<arguments.length&&s<t&&(s=t,window[c](r,"event","Scroll Depth","Pixel Depth",i(t),1,{nonInteraction:u.nonInteraction})),u.userTiming&&3<arguments.length&&window[c](r,"timing","Scroll Depth",e,o,n)),a&&(_gaq.push(["_trackEvent","Scroll Depth",e,n,1,u.nonInteraction]),u.pixelDepth&&2<arguments.length&&s<t&&(s=t,_gaq.push(["_trackEvent","Scroll Depth","Pixel Depth",i(t),1,u.nonInteraction])),u.userTiming&&3<arguments.length&&_gaq.push(["_trackTiming","Scroll Depth",e,o,n,100])))}function i(e){return(250*Math.floor(e/250)).toString()}function n(){function t(){p=new Date,c=null,a=o.apply(i,l)}var o,r,i,l,a,c,p;D=!0,v.on("scroll.scrollDepth",(o=function(){var e,n,t,o,r,i,l,a=d(document).height(),c=window.innerHeight?window.innerHeight:v.height(),p=v.scrollTop()+c,h=(e=a,{"25%":parseInt(.25*e,10),"50%":parseInt(.5*e,10),"75%":parseInt(.75*e,10),"100%":e-5}),s=new Date-g;if(m.length>=u.elements.length+(u.percentage?4:0))return v.off("scroll.scrollDepth"),void(D=!1);u.elements&&(n=u.elements,t=p,o=s,d.each(n,function(e,n){-1===d.inArray(n,m)&&d(n).length&&t>=d(n).offset().top&&(f("Elements",n,t,o),m.push(n))})),u.percentage&&(r=h,i=p,l=s,d.each(r,function(e,n){-1===d.inArray(e,m)&&n<=i&&(f("Percentage",e,i,l),m.push(e))}))},r=500,c=null,p=0,function(){var e=new Date,n=r-(e-(p=p||e));return i=this,l=arguments,n<=0?(clearTimeout(c),c=null,p=e,a=o.apply(i,l)):c=c||setTimeout(t,n),a}))}u=d.extend({},e,u),d(document).height()<u.minHeight||(u.gaGlobal?(l=!0,c=u.gaGlobal):"function"==typeof gtag?(p=!0,c="gtag"):"function"==typeof ga?(l=!0,c="ga"):"function"==typeof __gaTracker&&(l=!0,c="__gaTracker"),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(a=!0),"function"==typeof u.eventHandler?h=u.eventHandler:void 0===window[u.dataLayer]||"function"!=typeof window[u.dataLayer].push||u.gtmOverride||(h=function(e){window[u.dataLayer].push(e)}),d.scrollDepth.reset=function(){m=[],s=0,v.off("scroll.scrollDepth"),n()},d.scrollDepth.addElements=function(e){void 0!==e&&d.isArray(e)&&(d.merge(u.elements,e),D||n())},d.scrollDepth.removeElements=function(e){void 0!==e&&d.isArray(e)&&d.each(e,function(e,n){var t=d.inArray(n,u.elements),o=d.inArray(n,m);-1!=t&&u.elements.splice(t,1),-1!=o&&m.splice(o,1)})},n())},d.scrollDepth});